title: SSH端口代理
date: 2016-05-13 17:18:21
updated: 2016-05-13 17:18:23
comments:
tags:
- ssh
categories:
- 

---

早知道SSH功能强大，但始终都没有深入的使用，今天终于基于XSHELL使用了SSH的端口代理转发功能，果然很好很强大。

## 应用场景

### 场景一

+ 远程服务器A在默认22端口上提供SSH服务
+ 远程服务器A同时在localhost:8080提供WEB服务
+ 本地PC可以直接连接到远程服务器A
+ 本地PC需要使用浏览器访问远程服务器A上的localhost:8080的WEB服务

### 场景二

+ 远程服务器A在默认22端口上提供SSH服务
+ 远程服务器A同时在localhost:8080提供WEB服务
+ 本地PC需要通过某种特殊方式连接到远程服务器A
+ 本地PC需要使用浏览器访问远程服务器A上的localhost:8080的WEB服务

> 其实这两种场景比较类似，实际上SSH端口转发都是为了解决通过SSH连接来访问服务器上其它服务的问题。

## 使用XSHELL进行SSH端口代理

### XSHELL先建立到远程服务器的连接

### 菜单“查看”->“隧道窗格”

### 在下方“隧道窗格”中配置“转移规则”

在“转移规则”空白处右键点击，选择添加，在新增转移规则窗口中，主要有“类型（方向）”“源主机”“侦听端口”“目标主机”“目标端口”五个内容框要填写，一般我们只要填写“侦听端口”和“目标端口”即可。

这个填写的意思是，通过当前的SSH隧道，就可以直接在源主机（即本地PC）的侦听端口访问到目标主机的目标端口。对于场景一和场景二，侦听端口和目标端口可以都填写成8080，其它按照默认即可。

## 参考文档

[通过ssh开启代理使用xshell进行端口转发](http://jingyan.baidu.com/album/09ea3ededbb6b6c0aede39d2.html)



